<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
<script src='http://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.js'></script>
  <link href='http://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.css' rel='stylesheet' />

    </head>
	<body>

    <div id="map" style="width: 100%; height: 600px; border: 1px solid #ccc;"></div>

        <script> 
		

        // initialize feature layer for use later: 
        var featLayer = L.mapbox.featureLayer(); 

            var basemap = new L.TileLayer('http://{s}.tiles.mapbox.com/v3/skorasaurus.5eb85050/{z}/{x}/{y}.png', {maxZoom: 19});
            var latlng = new L.LatLng(41.501860,-81.635799);
                
            var mizzap = new L.Map('map', {center: latlng, zoom: 15, layers: [basemap]});
                
   // adds all markers to map, with default styling


   // go through each marker in layer, style based on property in parking=
   featLayer.on('ready', function(e) {

         L.geoJson(featLayer, {
            style: function(feature) {
                switch (feature.properties.parking) {
                    case 'multi-storey': return {color: "#ff0000"};
                    case 'surface':   return {color: "#0000ff"};
                    case 'underground':   return {color: "#0000ff"};
                }
            }

        })
    }).addTo(mizzap);

       featLayer.loadURL('dtparking.geojson').addTo(mizzap);


            </script>
        
<!--  some starting values for experimentation
 fillOpacity: 0.7;  -->

		</div>
	</body>
</html>